<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baggit</title>
    <link rel="stylesheet" href="../stylesheets/style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    

</head>
<body>

    <% if(success.length>0){ %>
        <div class=" px-3 h-8 bg-purple-600 absolute left-1/2 -translate-x-1/2 text-center text-white font-bold text-xl rounded-b-md animate-pulse z-40">
            <span class="">
            <%= success %>
            </span>
        </div>
        
    <% } %>

    <div class="w-full min-h-screen  bg-zinc-100 font-mono">
        <div class="w-full flex items-center justify-between fixed bg-white shadow-lg z-20">
            <img src="https://vivianamalls.com/wp-content/uploads/2023/08/Baggit-Viviana-Mall-Thane-Mumbai.png" alt="" class="w-28 -mb-2 ml-16">

            <div class="flex gap-8 font-semibold text-xl pr-3">
                <a href="/shop" class="hover:scale-105 px-2 py-1 rounded-md transition-all hover:bg-purple-600 hover:text-white">Home</a>
                <a href="/cart" class="hover:scale-105 px-2 py-1 rounded-md transition-all hover:bg-purple-600 hover:text-white">Cart 
                    <% if(cart.length){ %>
                        (<%= cart.length %>)
                    <% } %>    
                    
                </a>
                <a href="/myaccount" class="hover:scale-105 px-2 py-1 rounded-md transition-all hover:bg-purple-600 hover:text-white">My account</a>
                <a href="/logout" class="hover:scale-105 px-2 py-1 rounded-md transition-all hover:bg-red-600 hover:text-white">Logout</a>
            </div>
          
        </div>

        <hr class="w-full h-0.5 pt-32">
        
        <div class="flex">
            <div class="w-[25%] flex h-screen flex-col items-start px-16 pt-4 font-medium">
            <div class="flex gap-2  font-medium">
                <h3 class="font-semibold ">Sort by</h3>
                <form action="/shop">
                    <select class="border-[1px] px-2 py-1 rounded-md" name="sortby" id="">
                        <option value="popular">Popular</option>
                        <option value="newest">Newest</option>
                    </select>
                </form>
            </div>
            <div class="flex flex-col mt-20">
                <a class="block w-fit mb-2" href="">New Collection</a>
                <a class="block w-fit mb-2" href="">All Products</a>
                <a class="block w-fit mb-2" href="">Discounted Products</a>
            </div>
            <div class="mt-32">
                <a class="block w-fit mb-2" href="">Filter by :</a>
                <a class="block w-fit mb-2" href="">Availability</a>
                <a class="block w-fit mb-2" href="">Discount</a>
            </div>
            </div>

            <div class="flex flex-wrap ">
               <% if(product.length>0){ %>

                  <%  product.forEach((val)=>{ %>
                        <div class="w-52 h-72 m-3 flex flex-col justify-between shadow-lg rounded-md hover:scale-[98%] z-0 transition-all">
                            <div class="w-full h-72 flex items-center justify-center rounded-t-md p-4 bg-[<%= val.panelcolor %>]">
                                <img src="data:image/jpeg;base64,<%=val.image.toString('base64') %>" class="h-[12rem] " alt="">
                            </div>
                            <div class="w-full h-20 bg-[<%=val.bgcolor%>] flex justify-between items-center px-3 font-semibold rounded-b-md text-[<%= val.textcolor %>]">
                                <span>
                                    <p class="text-xl"><%= val.name%></p>
                                    <p>â‚¹<%= val.price%></p>
                                </span>
                                <span>
                                    <a class="bg-white rounded-full pb-1  pt-0 px-3 transition-all  text-3xl text-center font-extrabold cursor-pointer" href="/addtocart/<%=val._id%>">+</a>
                                </span>
                                
                            </div>
                        </div>
                    <% }) %>
              <%  } else{ %>
                    <div class="w-60 text-center px-3 py-2 bg-zinc-200 rounded-lg h-10 absolute top-1/2 left-1/2">No Products Found</div>
              <%  } %>
                
                
            </div>
        </div>
            
    </div>

</body>
</html>